<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head th:insert="~{header-footer :: head}"></head>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<body>

<div th:insert="~{header-footer :: header}"></div>

<link rel="stylesheet" href="/css/mainpage.css">
<!--소모임 CSS -->
<link rel="stylesheet" href="/css/meeting/main-meeting.css">
<link href='https://cdn.jsdelivr.net/npm/fullcalendar@5.10.2/main.min.css' rel='stylesheet'/>


<main>
    <div class="container">
        <div class="top-content">
            <div class="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item"><img src="img/오타니.jpg" alt="선수 1"></div>
                    <div class="carousel-item"><img src="img/SSG로고.png" alt="선수 2"></div>
                    <div class="carousel-item"><img src="img/NC로고.png" alt="선수 3"></div>
                </div>
                <a href="#" class="carousel-control prev" onclick="moveCarousel(-1); return false;">&#10094;</a>
                <a href="#" class="carousel-control next" onclick="moveCarousel(1); return false;">&#10095;</a>
            </div>
            <!--            팀 순위 테이블 (홍예은) -->
            <div class="team-ranking">
                <h2>팀 순위</h2>
                <table class="teamRank-table">
                    <thead>
                    <tr>
                        <th>순위</th>
                        <th colspan="2">팀명</th>
                        <th>경기 수</th>
                        <th>승</th>
                        <th>패</th>
                        <th>무</th>
                        <th>승률</th>
                        <th>연승</th>
                        <th>최근 10경기</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="team : ${session['2024_Rank']}">
                        <td th:text="${team[0]}"></td>
                        <td>
                            <img th:src="${team[9]}" alt="팀 로고" th:width="40" th:height="30">
                        </td>
                        <td th:text="${team[1]}"></td>
                        <td th:text="${team[2]}"></td>
                        <td th:text="${team[3]}"></td>
                        <td th:text="${team[4]}"></td>
                        <td th:text="${team[5]}"></td>
                        <td th:text="${team[6]}"></td>
                        <td th:text="${team[7]}"></td>
                        <td th:text="${team[8]}"></td>
                    </tr>
                    <tr th:if="${#lists.isEmpty(session['2024_Rank'])}">
                        <td colspan="9">순위 정보가 없습니다.</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <!-- 경기 일정 부분  -->
        <div class="game-schedule">
            <h2>경기 일정</h2>
            <div class="game-container">
                <!-- 첫 번째 경기 -->
                <div class="game">
                    <div class="game-info">
                        <p class="time">잠실 ｜ 18:30</p>
                        <p class="teams"><img src="img/NC로고.png" class="game-logo"><span>VS</span><img
                                src="img/두산로고.png" class="game-logo"></p>
                        <p class="teams-name">NC<span>VS</span>두산</p>
                        <p class="broadcaster">SPO-T</p>
                        <!-- <div class="pitchers">
                            <p>선발: 이재학</p>
                            <p>선발: 최승용</p>
                        </div> -->
                        <button class="prediction-btn">굿즈</button>
                        <button class="prediction-btn">승부 예측</button>
                    </div>
                </div>
                <!-- 두 번째 경기 -->
                <div class="game">
                    <div class="game-info">
                        <p class="time">문학 ｜ 18:30</p>
                        <p class="teams"><img src="img/삼성로고.png" class="game-logo"><span>VS</span><img
                                src="img/키움로고.png" class="game-logo"></p>
                        <p class="teams-name">삼성<span>VS</span>키움</p>
                        <p class="broadcaster">KN-T</p>
                        <!-- <div class="pitchers">
                            <p>선발: 임찬규</p>
                            <p>선발: 안더슨</p>
                        </div> -->
                        <button class="prediction-btn">굿즈</button>
                        <button class="prediction-btn">승부 예측</button>
                    </div>
                </div>
                <!-- 삼 번째 경기 -->
                <div class="game">
                    <div class="game-info">
                        <p class="time">사직 ｜ 18:30</p>
                        <p class="teams"><img src="img/LG로고.png" class="game-logo"><span>VS</span><img
                                src="img/한화로고.png" class="game-logo"></p>
                        <p class="teams-name">LG<span>VS</span>한화</p>
                        <p class="broadcaster">KN-T</p>
                        <!-- <div class="pitchers">
                            <p>선발: 임찬규</p>
                            <p>선발: 안더슨</p>
                        </div> -->
                        <button class="prediction-btn">굿즈</button>
                        <button class="prediction-btn">승부 예측</button>
                    </div>
                </div>
                <!-- 사 번째 경기 -->
                <div class="game">
                    <div class="game-info">
                        <p class="time">대구 ｜ 18:30</p>
                        <p class="teams"><img src="img/KT로고.png" class="game-logo"><span>VS</span><img
                                src="img/롯데로고.png" class="game-logo"></p>
                        <p class="teams-name">KT<span>VS</span>롯데</p>
                        <p class="broadcaster">KN-T</p>
                        <!-- <div class="pitchers">
                            <p>선발: 임찬규</p>
                            <p>선발: 안더슨</p>
                        </div> -->
                        <button class="prediction-btn">굿즈</button>
                        <button class="prediction-btn">승부 예측</button>
                    </div>
                </div>
                <!-- 오 번째 경기 -->
                <div class="game">
                    <div class="game-info">
                        <p class="time">수원 ｜ 18:30</p>
                        <p class="teams"><img src="img/SSG로고.png" class="game-logo"><span>VS</span><img
                                src="img/기아로고.png" class="game-logo"></p>
                        <p class="teams-name">SSG<span>VS</span>KIA</p>
                        <p class="broadcaster">KN-T</p>
                        <!-- <div class="pitchers">
                            <p>선발: 임찬규</p>
                            <p>선발: 안더슨</p>
                        </div> -->
                        <button class="prediction-btn">굿즈</button>
                        <button class="prediction-btn">승부 예측</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 소모임 제목과 배치 변경 -->
        <div class="bottom-content">
            <h2>소모임</h2>
            <div class="content-layout">
                <div class="calendar-container">
                    <h3>달력</h3>
                    <div id="calendar"></div>
                    <p class="calendar-note">⚾경기가 있는 날입니다. 소모임을 개설할 수 있습니다.⚾</p>
                </div>
                <div class="meeting-list-container">
                    <!-- 선택한 날짜와 더보기 버튼을 포함하는 새로운 div 추가 -->
                    <div class="date-title-container">
                        <h3 class="selected-date-title">선택한 날짜 :</h3>
                        <button class="more-btn" onclick="window.location.href='/meeting/list'">더보기</button>
                    </div>
                    <div id="meeting-list">
                        <p>날짜를 클릭하여 소모임을 확인하세요.</p>
                    </div>
                </div>
            </div>
        </div>


    </div>
</main>
<!-- 메인태그 닫고 로고 푸터 시작  -->
<div class="team-logos">
    <div class="team-logos-container">
        <a href="https://www.lgtwins.com/service/html.ncd?view=/pc_twins/twins_main/twins_main" target="_blank"><img src="/img/LG로고.png" alt="Twins" class="team-logo"></a>
        <a href="https://www.ktwiz.co.kr/" target="_blank">                 <img src="/img/KT로고.png" alt="Kiwiz" class="team-logo"></a>
        <a href="https://www.ssglanders.com/main" target="_blank">          <img src="/img/SSG로고.png" alt="Landers" class="team-logo"></a>
        <a href="https://www.ncdinos.com/" target="_blank">                 <img src="/img/NC로고.png" alt="Dinos" class="team-logo"></a>
        <a href="https://www.doosanbears.com/" target="_blank">             <img src="/img/두산로고.png" alt="Bears" class="team-logo"></a>
        <a href="https://tigers.co.kr/" target="_blank">                    <img src="/img/기아로고.png" alt="Tigers" class="team-logo"></a>
        <a href="https://www.giantsclub.com/html/" target="_blank">         <img src="/img/롯데로고.png" alt="Giants" class="team-logo"></a>
        <a href="https://www.samsunglions.com/" target="_blank">            <img src="/img/삼성로고.png" alt="Lions" class="team-logo"></a>
        <a href="https://www.hanwhaeagles.co.kr/index.do" target="_blank">  <img src="/img/한화로고.png" alt="Wiz" class="team-logo"></a>
        <a href="https://heroesbaseball.co.kr/index.do" target="_blank">    <img src="/img/키움로고.png" alt="Heroes" class="team-logo"></a>
    </div>
</div>
<div th:insert="~{header-footer :: footer}"></div>

<script>
    // 캐러셀 스크립트
    let currentSlide = 0;
    const slides = document.querySelectorAll('.carousel-item');
    const totalSlides = slides.length;

    function moveCarousel(direction) {
        currentSlide = (currentSlide + direction + totalSlides) % totalSlides;
        document.querySelector('.carousel-inner').style.transform = `translateX(-${currentSlide * 100}%)`;
    }

    // 자동 슬라이드 (옵션)
    setInterval(() => moveCarousel(1), 5000);
</script>

<!-- 소모임 부분 자스 (윤경)-->
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.10.2/main.min.js'></script>
<script src="/js/meeting/main-meeting.js"></script>
<script th:inline="javascript">
    document.addEventListener('DOMContentLoaded', function() {
        var kakaoLoginSuccess = /*[[${kakaoLoginSuccess}]]*/ false;
        if (kakaoLoginSuccess) {
            Swal.fire({
                icon: 'success',
                title: '카카오 로그인 성공!',
                text: '환영합니다.',
                timer: 1500,
                showConfirmButton: false
            });
        }
    });
</script>

</body>